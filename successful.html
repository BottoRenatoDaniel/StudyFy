<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bejelentkezés</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Bejelentkezési form submit kezelése AJAX-szel
            document.querySelector('.sign-in-container form').addEventListener('submit', function(e) {
                e.preventDefault();

                const email = document.querySelector('input[type="email"]').value;
                const password = document.querySelector('input[type="password"]').value;
                
                fetch('login.php', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
                    body: `email=${encodeURIComponent(email)}&password=${encodeURIComponent(password)}`
                })
                .then(response => response.json())
                .then(data => {
                    if (data.status === 'success') {
                        showCheckmark(); // Mutatja a pipát sikeres bejelentkezéskor
                    } else {
                        alert(data.message); // Hiba esetén üzenet
                    }
                });
            });

            // Pipa megjelenítése animálva
            function showCheckmark() {
                const checkmark = document.createElement('div');
                checkmark.classList.add('checkmark');
                document.body.appendChild(checkmark);

                setTimeout(() => {
                    checkmark.classList.add('show'); // Animáció indítása
                }, 100);

                setTimeout(() => {
                    checkmark.classList.remove('show'); // Pipa eltüntetése
                }, 2000);
            }
        });
    </script>
    <style>
        /* Pipa animáció */
        .checkmark {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 50px;
            color: #4CAF50;
            opacity: 0;
            transition: opacity 0.5s ease, transform 0.5s ease;
            transform: scale(0.5) translate(-50%, -50%);
        }
        
        .checkmark.show {
            opacity: 1;
            transform: scale(1) translate(-50%, -50%);
        }
    </style>
</head>
<body>
    <div class="container" id="container">
        <div class="form-container sign-in-container">
            <form action="login.php" method="POST">
                <h1>Bejelentkezés</h1>
                <input type="email" placeholder="Email" required />
                <input type="password" placeholder="Jelszó" required />
                <button type="submit">Bejelentkezés</button>
            </form>
        </div>
    </div>
</body>
</html>
